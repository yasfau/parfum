{"version":3,"file":"async-token.js","sources":["../src/async-token.ts"],"sourcesContent":["import type { AxiosInstance } from './types.js'\n\nexport default function asyncToken(instance: AxiosInstance, getToken: () => Promise<string>): void {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then((accessToken) => {\n      config.headers.set('Authorization', `Bearer ${accessToken}`)\n      return config\n    })\n  })\n}\n"],"names":[],"mappings":"AAEc,SAAU,UAAU,CAAC,QAAuB,EAAE,QAA+B,EAAA;IACzF,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,MAAM,EAAA;QAChD,OAAO,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW,KAAI;YACrC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,CAAA,OAAA,EAAU,WAAW,CAAA,CAAE,CAAC;AAC5D,YAAA,OAAO,MAAM;AACf,QAAA,CAAC,CAAC;AACJ,IAAA,CAAC,CAAC;AACJ;;;;"}